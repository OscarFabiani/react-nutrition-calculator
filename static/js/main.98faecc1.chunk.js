(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{214:function(e,a,t){e.exports=t(215)},215:function(e,a,t){"use strict";t.r(a);var n=t(85),o=t(82),s=t(83),l=t(86),r=t(84),c=t(87),i=(t(216),t(317),t(1)),u=t.n(i),m=t(213),d=t.n(m),p=(t(523),t(524),function(e,a){var t=e.find(function(e){return e.nutrient_id===a});return t?t.value:null}),f=function(e){return{id:e.desc.ndbno,name:e.desc.name,nutrients:[{id:208,name:"Calories",unit:"kcals",value:p(e.nutrients,208),measurements:{}},{id:203,name:"Protein(g)",unit:"grams",value:p(e.nutrients,203),measurements:{}},{id:204,name:"Fat(g)",unit:"grams",value:p(e.nutrients,204),measurements:{}},{id:205,name:"Carbs(g)",unit:"grams",value:p(e.nutrients,205),measurements:{}}]}},h=function(e){return+(Math.round(e+"e+2")+"e-2")},E=["Olive oil","Coconut oil","Eggs","Chickpeas","Black beans","Sardines"],b=function(e){function a(){var e,t;Object(o.a)(this,a);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(r.a)(a)).call.apply(e,[this].concat(c)))).state={foodData:[],foodGrams:[0,0,0,0,0,0],expansions:[!1,!1,!1,!1,!1,!1],isLoading:!1,error:null},t.updateTotals=function(e,a){var o=t.state.foodGrams;t.setState({foodGrams:[].concat(Object(n.a)(o.slice(0,a)),[Number(e)],Object(n.a)(o.slice(a+1)))})},t.toggleExpansion=function(e){var a=t.state.expansions,o=[].concat(Object(n.a)(a.slice(0,e)),[!a[e]],Object(n.a)(a.slice(e+1)));t.setState({expansions:o})},t}return Object(c.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("https://api.nal.usda.gov/ndb/V2/reports?ndbno=04053&ndbno=04047&ndbno=01123&ndbno=16018&ndbno=16058&ndbno=15088&&type=f&format=json&api_key=5iIK49BdqtpcdNs7c4x9B7g6guq7saZaWOVdnn8j").then(function(e){return e.ok?e.json():void 0}).then(function(a){var t;e.setState({foodData:(t=a.foods,t.map(function(e){return f(e.food)})),isLoading:!1})}).catch(function(a){console.log("error: ",a),e.setState({error:a})})}},{key:"render",value:function(){var e=this.state,a=e.foodData,t=e.foodGrams,n=e.expansions,o=e.isLoading,s=e.error;return s?u.a.createElement("span",null,"Something went wrong...",s.message):o?u.a.createElement("span",null,"Loading..."):u.a.createElement("div",{className:"calculator"},u.a.createElement(v,{foodData:a,foodGrams:t}),u.a.createElement(g,{foodData:a,foodGrams:t,expansions:n,updateTotals:this.updateTotals,toggleExpansion:this.toggleExpansion}))}}]),a}(u.a.Component),v=function(e){function a(){return Object(o.a)(this,a),Object(l.a)(this,Object(r.a)(a).apply(this,arguments))}return Object(c.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.foodData,t=e.foodGrams,n=a.map(function(e,a){return e.nutrients.map(function(e){return e.value*t[a]/100})}),o=[0,1,2,3].map(function(e){return n.reduce(function(a,t){return a+t[e]},0)});return u.a.createElement("section",{className:"meal-display"},u.a.createElement("h1",{className:"title"},"Macronutrient Calculator"),u.a.createElement("div",{className:"meal-totals"},u.a.createElement("h2",{className:"totals-label"},"Meal Totals:"),u.a.createElement("div",{className:"totals-table"},u.a.createElement("div",{className:"meal-nutrient-total"},u.a.createElement("h3",{className:"total-column label"},"Calories"),u.a.createElement("h3",{className:"total-column amount"},": ",h(o[0]))),u.a.createElement("div",{className:"meal-nutrient-total"},u.a.createElement("h3",{className:"total-column label"},"Protein(g)"),u.a.createElement("h3",{className:"total-column amount"},": ",h(o[1]))),u.a.createElement("div",{className:"meal-nutrient-total"},u.a.createElement("h3",{className:"total-column label"},"Fat(g)"),u.a.createElement("h3",{className:"total-column amount"},": ",h(o[2]))),u.a.createElement("div",{className:"meal-nutrient-total"},u.a.createElement("h3",{className:"total-column label"},"Carbs(g)"),u.a.createElement("h3",{className:"total-column amount"},": ",h(o[3]))))),u.a.createElement("p",{className:"instructions"},"Enter amounts for foods and the meal totals automatically update!"))}}]),a}(u.a.Component),g=function(e){function a(){return Object(o.a)(this,a),Object(l.a)(this,Object(r.a)(a).apply(this,arguments))}return Object(c.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.foodData,t=e.foodGrams,n=e.expansions,o=e.updateTotals,s=e.toggleExpansion,l=a.map(function(e,a){return u.a.createElement(N,{key:a,index:a,name:E[a],nutrients:e.nutrients,grams:t[a],updateTotals:o,isExpanded:n[a],toggleExpansion:s})});return u.a.createElement("div",{className:"foods"},l)}}]),a}(u.a.Component),N=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(r.a)(a)).call.apply(e,[this].concat(s)))).handleClick=function(){var e=t.props,a=e.index;(0,e.toggleExpansion)(a)},t.handleChange=function(e){var a=t.props,n=a.index;(0,a.updateTotals)(e.target.value,n)},t}return Object(c.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.name,t=e.nutrients,n=e.grams,o=e.isExpanded,s=o?"fa fa-sort-up icon up-icon":"fa fa-sort-down icon down-icon",l=t.map(function(e,a){return u.a.createElement("div",{key:a,className:"food-nutrient-total"},u.a.createElement("p",{className:"food-column label"},e.name),u.a.createElement("p",{className:"food-column amount"},": ",h(e.value*(n/100))))});return u.a.createElement("div",{className:"food"},u.a.createElement("h3",{className:"food-label"},a),u.a.createElement("div",{className:"input-display"},u.a.createElement("input",{className:"input",type:"number",min:"0",max:"999",value:n,onChange:this.handleChange}),u.a.createElement("span",null,"(grams)")),u.a.createElement("div",{className:"details-display"},u.a.createElement("div",{className:"details-label",onClick:this.handleClick},u.a.createElement("i",{className:s}),u.a.createElement("h4",null,"Details"),u.a.createElement("i",{className:s})),o&&u.a.createElement("ul",{className:"nutrient-list"},l)))}}]),a}(u.a.Component);d.a.render(u.a.createElement(b,null),document.getElementById("root"))},523:function(e,a,t){}},[[214,1,2]]]);
//# sourceMappingURL=main.98faecc1.chunk.js.map